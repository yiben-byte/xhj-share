<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URLç®¡ç† - è·å–æœ‰æ•ˆç½‘å€</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f0f8ff;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        h1 {
            color: #333;
            margin-bottom: 30px;
        }
        .url-box {
            background: #e8f4fd;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #007bff;
        }
        .url-link {
            color: #007bff;
            text-decoration: none;
            font-size: 18px;
            font-weight: bold;
            word-break: break-all;
        }
        .btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
        }
        .btn:hover {
            background: #218838;
        }
        .status {
            background: #d1ecf1;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            color: #0c5460;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”— URLç®¡ç† - è·å–æœ‰æ•ˆç½‘å€</h1>
        
        <div class="status">
            <strong>âœ… æœåŠ¡çŠ¶æ€ï¼š</strong>æ­£å¸¸è¿è¡Œ<br>
            <strong>ğŸŒ åŸºç¡€åŸŸåï¼š</strong>https://yiben-byte.github.io<br>
            <strong>âš ï¸ æ³¨æ„ï¼š</strong>æ ¹åŸŸåæ— æ•ˆï¼Œéœ€è¦éšæœºè·¯å¾„æ‰èƒ½è®¿é—®
        </div>
        
        <div class="url-box">
            <strong>ğŸŒ å½“å‰æœ‰æ•ˆç½‘å€ï¼š</strong><br>
            <a href="#" id="currentUrl" class="url-link" target="_blank">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ç”Ÿæˆ</a>
        </div>
        
        <button class="btn" onclick="generateNewUrl()">ğŸš€ ç”Ÿæˆæ–°ç½‘å€</button>
        <button class="btn" onclick="copyUrl()">ğŸ“‹ å¤åˆ¶ç½‘å€</button>
        <button class="btn" onclick="openUrl()">ğŸ”— æ‰“å¼€ç½‘å€</button>
        
        <div class="status">
            <strong>ğŸ“± ä½¿ç”¨è¯´æ˜ï¼š</strong><br>
            1. ç‚¹å‡»"ç”Ÿæˆæ–°ç½‘å€"æŒ‰é’®<br>
            2. ç‚¹å‡»"å¤åˆ¶ç½‘å€"ä¿å­˜<br>
            3. ç‚¹å‡»"æ‰“å¼€ç½‘å€"è®¿é—®<br>
            4. åˆ†äº«ç»™å…¶ä»–äººä½¿ç”¨
        </div>
    </div>

    <script>
        const BASE_URL = 'https://yiben-byte.github.io/xhj-share'; // VercelåŸŸå
        let currentUrl = '';
        
        // ç”Ÿæˆéšæœºå­—ç¬¦ä¸²
        function generateRandomString() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let result = '';
            for (let i = 0; i < 20; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }
        
        // ç”Ÿæˆæ–°URL
        function generateNewUrl() {
            const randomString = generateRandomString();
            const timestamp = Date.now();
            currentUrl = `${BASE_URL}/main.html?path=${randomString}&valid=${randomString}&time=${timestamp}`;
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('currentUrl').href = currentUrl;
            document.getElementById('currentUrl').textContent = currentUrl;
            
            // æ›´æ–°localStorageä¸­çš„æœ€æ–°ç½‘å€æ—¶é—´æˆ³ï¼Œå¼ºåˆ¶æ—§ç½‘å€å¤±æ•ˆ
            localStorage.setItem('latestUrlTime', timestamp);
            
            alert('âœ… æ–°ç½‘å€å·²ç”Ÿæˆï¼\n\næ³¨æ„ï¼šç”Ÿæˆçš„ç½‘å€åŒ…å«æ—¶é—´æˆ³ï¼Œ6å°æ—¶å†…æœ‰æ•ˆã€‚\næ—§ç½‘å€å·²å¤±æ•ˆï¼Œåªæœ‰æ–°ç½‘å€å¯ä»¥è®¿é—®ã€‚\n\nè·¨è®¾å¤‡å¤±æ•ˆï¼šæ—§ç½‘å€åœ¨å…¶ä»–è®¾å¤‡ä¸Š6å°æ—¶åå¤±æ•ˆã€‚');
        }
        
        // åˆ›å»ºæ–°çš„HTMLæ–‡ä»¶
        function createNewHtmlFile(path) {
            // è¿™é‡Œéœ€è¦è°ƒç”¨GitHub APIæ¥åˆ›å»ºæ–‡ä»¶
            // ç”±äºGitHub APIéœ€è¦è®¤è¯ï¼Œè¿™é‡Œåªæ˜¯æ¨¡æ‹Ÿ
            console.log(`åˆ›å»ºæ–°æ–‡ä»¶: ${path}.html`);
        }
        
        // å¤åˆ¶URL
        function copyUrl() {
            if (currentUrl) {
                navigator.clipboard.writeText(currentUrl).then(() => {
                    alert('âœ… ç½‘å€å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                }).catch(() => {
                    const textArea = document.createElement('textarea');
                    textArea.value = currentUrl;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    alert('âœ… ç½‘å€å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                });
            } else {
                alert('âŒ è¯·å…ˆç”Ÿæˆç½‘å€ï¼');
            }
        }
        
        // æ‰“å¼€URL
        function openUrl() {
            if (currentUrl) {
                window.open(currentUrl, '_blank');
            } else {
                alert('âŒ è¯·å…ˆç”Ÿæˆç½‘å€ï¼');
            }
        }
        
        console.log('âœ… URLç®¡ç†é¡µé¢å·²åŠ è½½');
    </script>
</body>
</html>
